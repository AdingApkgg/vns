<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>VNS</title>
    <style>
        * {
            transition: all 0.7s ease;
        }

        body {
            font-family: Arial, sans-serif;
        }

        div#content {
            max-width: 100%;
            width: 1000px;
            margin: 0 auto;
        }

        .item {
            margin-bottom: 20px;
            border: 1px solid #ccc;
            padding: 10px;
            border-radius: 5px;
        }

        .title {
            font-size: 1.2em;
            font-weight: bold;
        }

        img.cover {
            max-width: 100%;
            margin: 0 auto;
            display: block;
            transition: all 0.7s ease;
        }

        img.cover:active {
            pointer-events: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotate3d(1, 1, 0, 360deg);
            border: rgba(0, 0, 0, 0.3) 100vh solid;
        }

        .platforms {
            color: #555;
        }

        .downloads {
            margin-top: 10px;
        }

        .download-button {
            background-color: #007bff;
            color: white;
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin-right: 10px;
        }

        .download-button:hover {
            background-color: #0056b3;
        }
    </style>
</head>

<body>
    <div id="content"></div>

    <script>
        const jsonUrl = "data.json";

        fetch(jsonUrl)
            .then((response) => {
                if (!response.ok) {
                    throw new Error("网络响应失败");
                }
                return response.json();
            })
            .then((data) => {
                const contentDiv = document.getElementById("content");
                data.forEach((item) => {
                    const itemDiv = document.createElement("div");
                    itemDiv.className = "item";

                    const title = document.createElement("h2");
                    title.className = "title";
                    title.textContent = item.title;
                    itemDiv.appendChild(title);

                    const company = document.createElement("p");
                    company.className = "company";
                    company.textContent = item.company;
                    itemDiv.appendChild(company);

                    const cover = document.createElement("img");
                    cover.className = "cover";
                    cover.src = item.cover;
                    cover.alt = item.title;
                    itemDiv.appendChild(cover);

                    const description = document.createElement("p");
                    description.className = "description";
                    description.textContent = item.description;
                    itemDiv.appendChild(description);

                    const tags = document.createElement("p");
                    tags.className = "tags";
                    tags.textContent = `标签：${item.tags.join("、")}`;
                    itemDiv.appendChild(tags);

                    const platforms = document.createElement("p");
                    platforms.className = "platforms";
                    platforms.textContent = `平台：${item.platforms.join("、")}`;
                    itemDiv.appendChild(platforms);

                    const downloads = document.createElement("p");
                    downloads.className = "downloads";
                    downloads.textContent = "分流：";

                    item.downloads.forEach((download) => {
                        const button = document.createElement("button");
                        button.className = "download-button";
                        button.textContent = `${download.provider}`;
                        button.onclick = () => window.open(download.url, "_blank");
                        downloads.appendChild(button);
                    });

                    itemDiv.appendChild(downloads);
                    contentDiv.appendChild(itemDiv);
                });
            })
            .catch((error) => {
                console.error("获取数据失败:", error);
                document.getElementById("content").textContent =
                    "加载数据失败，请稍后重试。";
            });
    </script>
</body>

</html>